<!DOCTYPE html>
<html>
<body>

<button onclick="mach()">Click me</button>
<textarea id="input" width="500px"> </textarea>
<div id="debug"></div>
<script>

  let linecount = 0;
  let lineprocessed = 1;
  // Array mit Struktur: Bereich, Teilbereich, X, Y, Z
  let matrix = [[[]]];


function debug(text) {
  document.getElementById("debug").innerHTML += text+"<br />";
}
async function asyncForEach(array, callback) {
  for (let index = 0; index < array.length; index++) {
    await callback(array[index], index, array);
  }
}

function mach() {
	result = csv(document.getElementById("input").value);
}

function readLine(line) {
  debug("do stuff");
  debug(typeof line);
}

function csv(data) {

  let lines = data.split(/\r\n|\n/);

  linecount = lines.length;
  debug("Number of Lines: " + linecount);
  for (let i = 0; i<linecount; i++) {
    debug("Next Line:" + lineprocessed);
    readLine(lines[i]);
    lineprocessed++;
  }
}

</script>

</body>
</html>
